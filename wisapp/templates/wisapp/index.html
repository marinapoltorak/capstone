{% extends "wisapp/base.html" %}

{% block title %}{{ scientist.sci_name }}{% endblock %}
{% block content %}

<div id="app">
  <nav>
    <a href="#" class="brand-logo show-on-large center" >WOMEN IN SCIENCE</a>
  </nav>
    <slider :width="600" format="push" direction="left" :opacity="0.15" :links="[
    {'id': 1, 'text': 'More Information about this scientist', 'url': scientist.sci_link},
    {'id': 2, 'text': 'Association For Women In Science', 'url': 'https://www.awis.org/'},
    {'id': 3, 'text': 'List of Women Scientist, 21st Century', 'url': 'https://en.wikipedia.org/wiki/List_of_female_scientists_in_the_21st_century'},
    {'id': 4, 'text': 'List of Female Scientists Before the 20th Century', 'url': 'https://en.wikipedia.org/wiki/List_of_female_scientists_before_the_20th_century'},
    {'id': 5, 'text': 'Timeline of Women in Science', 'url': 'https://en.wikipedia.org/wiki/Timeline_of_women_in_science'},
    {'id': 6, 'text': 'Marina Poltorak', 'url': 'https://github.com/marinapoltorak'},
    ]">
    </slider>
      <!-- <li>
        <button type="button" name="button" class="btn"><a href v-bind:href="scientist.sci_link">More About
         [[scientist.sci_name]]</a>
        </button>
      </li> -->
    <!-- <button type="button" name="button" class="sidenav-trigger show-on-large right" data-target="slide-out"><a href="#" data-target="slide-out">More Options</a></button> -->

    <div class="reload">
      <a v-on:click="getScientist()"><i class="material-icons">refresh</i></a>
    </div>
        <main>
          <div class="name_and_field">
            <div class="name">
              [[scientist.sci_name]]
            </div>
            <div class="field">
              [[scientist.sci_field]]
            </div>
          </div>
          <div style="text-align:center">
            <img v-bind:src="'http://localhost:8000' + scientist.sci_image"/>
            <div class="big_stuff valign-wrapper"> [[scientist.sci_big_stuff]]</div>
          </div>
          <hr>
        <div class="bio">
          [[scientist.sci_bio]]
        </div>
      </main>
</div>
<script type="text/javascript">

  let app = new Vue({
    el: '#app',
    delimiters: ['[[', ']]'],
    data: {
      scientist: {
        sci_name: '',
        field: '',
        bio: '',
        big_stuff: '',
        image: '',
        link: '',
      },
    },
    methods: {
      getScientist: function() {
        axios({
          url: '{% url 'wisapp:get_scientist' %}',
          method: 'get'
        }).then(response => {
          // this.items = response.data.items
          console.log(response.data)
          this.scientist = response.data
          console.log(this.scientist)
        })
      }
    },
    created: function() {
      this.getScientist()
    }
  })



    // document.addEventListener('DOMContentLoaded', function() {
    //   var elems = document.querySelectorAll('.sidenav');
    //   var instances = M.Sidenav.init(elems, {});
    // });
</script>

{% endblock %}
